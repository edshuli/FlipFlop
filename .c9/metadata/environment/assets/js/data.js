{"filter":false,"title":"data.js","tooltip":"/assets/js/data.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":374,"column":1},"action":"remove","lines":["var athLoc= {","          lat: 37.983810,","          lng: 23.727539","        };","        ","var budLoc = {","          lat: 47.497913,","          lng: 19.040236","        };      ","        ","var halLoc ={","     lat: 47.557281,","     lng: 13.646960","}        ","","","var krakLoc ={","     lat: 50.064651,","     lng: 19.944981","}   ","","","var lisLoc ={","     lat: 38.707008,","     lng: -9.135640","} ","","var lisLoc ={","     lat: 38.707008,","     lng: -9.135640","} ","","","var cairLoc={","    lat: 30.044420, ","    lng: 31.235712","}","","var hoianLoc ={","    lat: 15.880058,","    lng: 108.338043","}","","","var marsLoc ={","    lat: 42.836990,","    lng: -9.002200","}","","$(document).ready(function () {","\t$('.dropdown').each(function (key, dropdown) {","\t\tvar $dropdown = $(dropdown);","\t\t$dropdown.find('.dropdown-menu a').on('click', function () {","\t\t\t$dropdown.find('button').text($(this).text()).append('<span class=\"multi-select-dropdown-map-search\"></span>');","\t\t});","\t});","});","","var map, places, infoWindow;","var markers = [];","var autocomplete;","var countryRestrict = {","\t'country': 'us'","};","var MARKER_PATH = 'https://developers.google.com/maps/documentation/javascript/images/marker_green';","var hostnameRegexp = new RegExp('^https?://.+?/');","","var countries = {","\t'au': {","\t\tcenter: {","\t\t\tlat: -25.3,","\t\t\tlng: 133.8","\t\t},","\t\tzoom: 4","\t},","\t'br': {","\t\tcenter: {","\t\t\tlat: -14.2,","\t\t\tlng: -51.9","\t\t},","\t\tzoom: 3","\t},","\t'ca': {","\t\tcenter: {","\t\t\tlat: 62,","\t\t\tlng: -110.0","\t\t},","\t\tzoom: 3","\t},","\t'fr': {","\t\tcenter: {","\t\t\tlat: 46.2,","\t\t\tlng: 2.2","\t\t},","\t\tzoom: 5","\t},","\t'de': {","\t\tcenter: {","\t\t\tlat: 51.2,","\t\t\tlng: 10.4","\t\t},","\t\tzoom: 5","\t},","\t'mx': {","\t\tcenter: {","\t\t\tlat: 23.6,","\t\t\tlng: -102.5","\t\t},","\t\tzoom: 4","\t},","\t'nz': {","\t\tcenter: {","\t\t\tlat: -40.9,","\t\t\tlng: 174.9","\t\t},","\t\tzoom: 5","\t},","\t'it': {","\t\tcenter: {","\t\t\tlat: 41.9,","\t\t\tlng: 12.6","\t\t},","\t\tzoom: 5","\t},","\t'za': {","\t\tcenter: {","\t\t\tlat: -30.6,","\t\t\tlng: 22.9","\t\t},","\t\tzoom: 5","\t},","\t'es': {","\t\tcenter: {","\t\t\tlat: 40.5,","\t\t\tlng: -3.7","\t\t},","\t\tzoom: 5","\t},","\t'pt': {","\t\tcenter: {","\t\t\tlat: 39.4,","\t\t\tlng: -8.2","\t\t},","\t\tzoom: 6","\t},","\t'us': {","\t\tcenter: {","\t\t\tlat: 37.1,","\t\t\tlng: -95.7","\t\t},","\t\tzoom: 3","\t},","\t'uk': {","\t\tcenter: {","\t\t\tlat: 54.8,","\t\t\tlng: -4.6","\t\t},","\t\tzoom: 5","\t}","};","","function initMap() {","\tmap = new google.maps.Map(document.getElementById('map'), {","\t\tzoom: countries['us'].zoom,","\t\tcenter: countries['us'].center,","\t\tmapTypeControl: false,","\t\tpanControl: false,","\t\tzoomControl: false,","\t\tstreetViewControl: false","\t});","","\tinfoWindow = new google.maps.InfoWindow({","\t\tcontent: document.getElementById('info-content')","\t});","","\t// Create the autocomplete object and associate it with the UI input control.","\t// Restrict the search to the default country, and to place type \"cities\".","\tautocomplete = new google.maps.places.Autocomplete(","\t\t/** @type {!HTMLInputElement} */","\t\t(","\t\t\tdocument.getElementById('autocomplete')), {","\t\t\ttypes: ['(cities)'],","\t\t\tcomponentRestrictions: countryRestrict","\t\t});","\tplaces = new google.maps.places.PlacesService(map);","","\tautocomplete.addListener('place_changed', onPlaceChanged);","","\t// Add a DOM event listener to react when the user selects a country.","\tdocument.getElementById('country').addEventListener(","\t\t'change', setAutocompleteCountry);","}","","// When the user selects a city, get the place details for the city and","// zoom the map in on the city.","function onPlaceChanged() {","\tvar place = autocomplete.getPlace();","\tif (place.geometry) {","\t\tmap.panTo(place.geometry.location);","\t\tmap.setZoom(15);","\t\tsearch();","\t} else {","\t\tdocument.getElementById('autocomplete').placeholder = 'Enter a city';","\t}","}","","// Search for hotels in the selected city, within the viewport of the map.","function search() {","\tvar search = {","\t\tbounds: map.getBounds(),","\t\ttypes: ['lodging']","\t};","","\tplaces.nearbySearch(search, function (results, status) {","\t\tif (status === google.maps.places.PlacesServiceStatus.OK) {","\t\t\tclearResults();","\t\t\tclearMarkers();","\t\t\t// Create a marker for each hotel found, and","\t\t\t// assign a letter of the alphabetic to each marker icon.","\t\t\tfor (var i = 0; i < results.length; i++) {","\t\t\t\tvar markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));","\t\t\t\tvar markerIcon = MARKER_PATH + markerLetter + '.png';","\t\t\t\t// Use marker animation to drop the icons incrementally on the map.","\t\t\t\tmarkers[i] = new google.maps.Marker({","\t\t\t\t\tposition: results[i].geometry.location,","\t\t\t\t\tanimation: google.maps.Animation.DROP,","\t\t\t\t\ticon: markerIcon","\t\t\t\t});","\t\t\t\t// If the user clicks a hotel marker, show the details of that hotel","\t\t\t\t// in an info window.","\t\t\t\tmarkers[i].placeResult = results[i];","\t\t\t\tgoogle.maps.event.addListener(markers[i], 'click', showInfoWindow);","\t\t\t\tsetTimeout(dropMarker(i), i * 100);","\t\t\t\taddResult(results[i], i);","\t\t\t}","\t\t}","\t});","}","","function clearMarkers() {","\tfor (var i = 0; i < markers.length; i++) {","\t\tif (markers[i]) {","\t\t\tmarkers[i].setMap(null);","\t\t}","\t}","\tmarkers = [];","}","","// Set the country restriction based on user input.","// Also center and zoom the map on the given country.","function setAutocompleteCountry() {","\tvar country = document.getElementById('country').value;","\tif (country == 'all') {","\t\tautocomplete.setComponentRestrictions({","\t\t\t'country': []","\t\t});","\t\tmap.setCenter({","\t\t\tlat: 15,","\t\t\tlng: 0","\t\t});","\t\tmap.setZoom(2);","\t} else {","\t\tautocomplete.setComponentRestrictions({","\t\t\t'country': country","\t\t});","\t\tmap.setCenter(countries[country].center);","\t\tmap.setZoom(countries[country].zoom);","\t}","\tclearResults();","\tclearMarkers();","}","","function dropMarker(i) {","\treturn function () {","\t\tmarkers[i].setMap(map);","\t};","}","","function addResult(result, i) {","\tvar results = document.getElementById('results');","\tvar markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));","\tvar markerIcon = MARKER_PATH + markerLetter + '.png';","","\tvar tr = document.createElement('tr');","\ttr.style.backgroundColor = (i % 2 === 0 ? '#F0F0F0' : '#FFFFFF');","\ttr.onclick = function () {","\t\tgoogle.maps.event.trigger(markers[i], 'click');","\t};","","\tvar iconTd = document.createElement('td');","\tvar nameTd = document.createElement('td');","\tvar icon = document.createElement('img');","\ticon.src = markerIcon;","\ticon.setAttribute('class', 'placeIcon');","\ticon.setAttribute('className', 'placeIcon');","\tvar name = document.createTextNode(result.name);","\ticonTd.appendChild(icon);","\tnameTd.appendChild(name);","\ttr.appendChild(iconTd);","\ttr.appendChild(nameTd);","\tresults.appendChild(tr);","}","","function clearResults() {","\tvar results = document.getElementById('results');","\twhile (results.childNodes[0]) {","\t\tresults.removeChild(results.childNodes[0]);","\t}","}","","// Get the place details for a hotel. Show the information in an info window,","// anchored on the marker for the hotel that the user selected.","function showInfoWindow() {","\tvar marker = this;","\tplaces.getDetails({","\t\t\tplaceId: marker.placeResult.place_id","\t\t},","\t\tfunction (place, status) {","\t\t\tif (status !== google.maps.places.PlacesServiceStatus.OK) {","\t\t\t\treturn;","\t\t\t}","\t\t\tinfoWindow.open(map, marker);","\t\t\tbuildIWContent(place);","\t\t});","}","","// Load the place information into the HTML elements used by the info window.","function buildIWContent(place) {","\tdocument.getElementById('iw-icon').innerHTML = '<img class=\"hotelIcon\" ' +","\t\t'src=\"' + place.icon + '\"/>';","\tdocument.getElementById('iw-url').innerHTML = '<b><a href=\"' + place.url +","\t\t'\">' + place.name + '</a></b>';","\tdocument.getElementById('iw-address').textContent = place.vicinity;","","\tif (place.formatted_phone_number) {","\t\tdocument.getElementById('iw-phone-row').style.display = '';","\t\tdocument.getElementById('iw-phone').textContent =","\t\t\tplace.formatted_phone_number;","\t} else {","\t\tdocument.getElementById('iw-phone-row').style.display = 'none';","\t}","","\t// Assign a five-star rating to the hotel, using a black star ('✭')","\t// to indicate the rating the hotel has earned, and a white star ('✩')","\t// for the rating points not achieved.","\tif (place.rating) {","\t\tvar ratingHtml = '';","\t\tfor (var i = 0; i < 5; i++) {","\t\t\tif (place.rating < (i + 0.5)) {","\t\t\t\tratingHtml += '✩';","\t\t\t} else {","\t\t\t\tratingHtml += '✭';","\t\t\t}","\t\t\tdocument.getElementById('iw-rating-row').style.display = '';","\t\t\tdocument.getElementById('iw-rating').innerHTML = ratingHtml;","\t\t}","\t} else {","\t\tdocument.getElementById('iw-rating-row').style.display = 'none';","\t}","","\t// The regexp isolates the first part of the URL (domain plus subdomain)","\t// to give a short URL for displaying in the info window.","\tif (place.website) {","\t\tvar fullUrl = place.website;","\t\tvar website = hostnameRegexp.exec(place.website);","\t\tif (website === null) {","\t\t\twebsite = 'http://' + place.website + '/';","\t\t\tfullUrl = website;","\t\t}","\t\tdocument.getElementById('iw-website-row').style.display = '';","\t\tdocument.getElementById('iw-website').textContent = website;","\t} else {","\t\tdocument.getElementById('iw-website-row').style.display = 'none';","\t}","}"],"id":2}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1573069314492,"hash":"d78e5e58dffce87711b44b6a092c9134a5280ca5"}